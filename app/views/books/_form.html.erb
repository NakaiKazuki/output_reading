<%= form_with(model: @book, url: yield(:url), local: true) do |form| %>
  <%= render "shared/error_messages", object: form.object %>

  <div class="form-group">
    <%= form.text_field :title, class: "form-control", placeholder: "本のタイトルを入力してください（50文字以内）" %>
  </div>

  <div class="form-group">
    <%= form.label :image, "投稿タイトルに画像を表示する場合は、下記の項目で追加してください。"%>
    <%= form.file_field :image, accept: "image/jpeg,image/gif,image/png" , class: "form-control book-image-form" %>
  </div>

  <script type="text/javascript">
    $("#book_image").bind("change", function() {
      var size_in_megabytes = this.files[0].size/1024/1024;
      if (size_in_megabytes > 5) {
        alert("最大ファイルサイズは5MBです。5MBより小さいファイルを選択してください。");
      }
    });
  </script>

  <div class="form-group">
    <%= form.submit yield(:submit_text), class: "btn btn-md btn-outline-success btn-lg form-submit" %>
  </div>
<% end %>
